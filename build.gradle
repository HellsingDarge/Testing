plugins {
    id("org.jetbrains.kotlin.jvm") version ("1.3.72")
    id("com.github.johnrengelman.shadow") version("5.2.0")
}

group "com.github.hellsingdarge.testing"
version "1.0-SNAPSHOT"

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8")

    testRuntimeOnly("org.spekframework.spek2:spek-runner-junit5:2.0.11")
    testImplementation("org.spekframework.spek2:spek-dsl-jvm:2.0.11")
    testImplementation("io.rest-assured:kotlin-extensions:4.3.0")
    testImplementation("com.google.code.gson:gson:2.8.6")
}

test {
    useJUnitPlatform {
        includeEngines "spek2"
    }
}

jar {
    manifest {
        attributes["Main-Class"] = "com.github.hellsingdarge.testing.MainKt"
    }
}

compileKotlin {
    kotlinOptions.jvmTarget = JavaVersion.VERSION_13
}

compileTestKotlin {
    kotlinOptions.jvmTarget = JavaVersion.VERSION_13
}